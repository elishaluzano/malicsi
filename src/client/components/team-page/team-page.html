<div class="row">
    <!--CHANGES-->
    <div class="col l2 collection hide-on-small-only" id="side-nav-teams">
        <div id="side-nav-teams-search">
	        <select ng-model="$ctrl.eventSponsored" id="dropdown" class="left black-text browser-default">
                <option value="all">All Events</option>
                <option 
                	ng-repeat="each in $ctrl.allEvents" 
                	value="{{ each.event_id }}"
                >
                    {{ each.event_title }}
                </option>
            </select>
    	</div>
        <div style="margin-top: 7vh"><a ng-repeat="team in $ctrl.allTeams" ui-sref-active="orange white-text" ui-sref="teamPage({ teamId: team.team_id })" class="collection-item black-text" ng-if="$ctrl.eventSponsored == team.event_id_key || $ctrl.eventSponsored == 'all'">{{team.name}}</a></div>
    </div>
    <!--TO HERE-->


    <div class="col l10 s12 m9" id="right-team-page">
	    <div class="col l3">
	        <img ng-src="{{ $ctrl.currentTeam.picture }}" width="256px" height="256px">
	    </div>

	    <div class="col l9">
	        <b id="team-name">{{$ctrl.currentTeam.name}}</b>
	        <div class="divider"></div>
	        <div class="col l4" id="team-stats">
	            <ul>
	                <li>Games Played:</li>
	                <li>Record:</li>
	                <li>Win rate:</li>
	                <li>Last Opponent:</li>
	                <li>Event:</li>
	            </ul>
	            <button ng-if="$ctrl.isAdminOfTeam" class="orange btn" data-target="edit-modal" modal>Edit Team</button> <!-- hide if not admin-->
	            <button  ng-if="$ctrl.isLoggedIn && $ctrl.isSoon && !$ctrl.isAdminOfTeam" ng-disabled="$ctrl.isMember || $ctrl.isMemberOfAnother" class="orange btn" data-target="join-modal">Join</button>
	        </div>
	        <div class="col l3" style="font-size: 17px;">
	            <ul>
	                <li>{{$ctrl.pastGameCount}}</li>
	                <li>{{$ctrl.win}} - {{$ctrl.lose}}</li>
	                <li>{{$ctrl.percentage}}%</li>
	                <li>
	                	<a ng-if="$ctrl.lastOpponent.id != ''" ui-sref="teamPage({ teamId: $ctrl.lastOpponent.id })">{{$ctrl.lastOpponent.name}}</a>
	                	<span ng-if="$ctrl.lastOpponent.id == ''">None</span>
	                </li>
	                <li><a ui-sref="eventPage({ eventId: $ctrl.event.event_id })">{{$ctrl.event.event_title}}</a></li>
	            </ul>
	            <button  ng-if="$ctrl.isAdminOfTeam" class="orange-bordered orange-text btn" data-target="delete-modal">Delete Team</button> <!-- hide if not admin-->
	            <button  ng-if="$ctrl.isLoggedIn && $ctrl.isSoon && !$ctrl.isAdminOfTeam" ng-click="$ctrl.print($ctrl.isMember)" ng-disabled="!$ctrl.isMember || $ctrl.isMemberOfAnother" class="orange-bordered orange-text btn" data-target="leave-modal">Leave</button>
	        </div>

	        <div id="delete-modal" class="modal">
	            <div class="modal-content">
	                <h4>Delete Team</h4>
	                <p>Are you sure you want to delete {{$ctrl.currentTeam.name}} and all of their corresponding games??</p>
	            </div>
	            <div class="center">
	                <a ng-click="$ctrl.deleteTeam()" class="center add-margin-bottom modal-action modal-close waves-effect waves-green white-text green btn">Okay</a>
	                <a class="center add-margin-bottom modal-action modal-close waves-effect waves-red btn-flat">Cancel</a>
	            </div>
	        </div>

			<div id="join-modal" class="modal">
	            <div class="modal-content">
	                <h4>Join Team</h4>
	                <p>Are you sure you want to join {{$ctrl.currentTeam.name}}?</p>
	            </div>
	            <div class="center">
	                <a ng-click="$ctrl.joinTeam()" class="center modal-action modal-close waves-effect waves-green white-text green btn">Okay</a>
	                <a class="center modal-action modal-close waves-effect waves-red btn-flat">Cancel</a>
	            </div>
	        </div>



			<div id="leave-modal" class="modal">
	            <div class="modal-content">
	                <h4>Leave Team</h4>
	                <p>Are you sure you want to leave {{$ctrl.currentTeam.name}}?</p>
	            </div>
	            <div class="center ">
	                <a ng-click="$ctrl.leaveTeam()" class="center modal-action modal-close waves-effect waves-green green white-text btn">Okay</a>
	                <a class="center modal-action modal-close waves-effect waves-red btn-flat">Cancel</a>
	            </div>
	        </div>

	        <div class="col l5">      
	            <div class="col l12">
	                <div class="card" ng-if="$ctrl.showUpcoming">
	                    <div class="card-content row" style="margin-bottom: 0px; margin-right: 3vw; padding-bottom: 5px">
	                        <div id="upcoming-game">Upcoming Game</div>
	                        <div class="divider"></div>
	                        <div class="col l12" id="upcoming-game-inner-div">
	                            <div class="col l7" id="upcoming-game-inner-inner-div">
	                                <div class="center-align"><p id="vs">vs</p></div>
	                                <div class="center-align"><a ui-sref="teamPage({ teamId: $ctrl.upcomingGame.team_id })">{{$ctrl.upcomingGame.team_name}}</a></div>
	                            </div>
	                            <div class="col l5" id="opponent-logo"><img ui-sref="teamPage({ teamId: $ctrl.upcomingGame.team_id })" class="pointer" ng-src="{{$ctrl.upcomingGame.picture}}" height="100px" width="100px"></div>
	                        </div>
	                         
	                    </div>
	                    <div class="card-action" id="upcoming-game-details">
	                        <div><text>{{$ctrl.upcomingGame.sport}}</text></div>
	                        <div><text>{{$ctrl.upcomingGame.venue}}</text></div>
	                        <div><text>{{$ctrl.upcomingGame.time | date: 'MM-dd-yy hh:mma'}}</text></div>
	                    </div>
	                </div>
	                <div class="card" ng-if="!$ctrl.showUpcoming">
	                    <div class="card-content row" style="margin-bottom: 10px; padding-bottom: 5px">
	                        <h6 class="center-align">No upcoming game</h6>
	                    </div>
	                </div>
	            </div>
	        </div> 
	    </div>
	    
	    <div class="collection col l12" id="last-five-games-div">
	        <div class="collection-header"><b id="last-five-games-header">Last 5 Games</b></div>
	        <div ng-if="$ctrl.lastFiveGames.length == 0">No games yet</div>
	        <table ng-if="$ctrl.lastFiveGames.length != 0" class="bordered responsive-table" id="last-five-games-table">
	            <tr>
	                <th>Date</th>
	                <th>Game</th>
	                <th>Opponent</th>
	                <th>Result</th>
	                <th>View Game</th>
	            </tr>
	            <tr ng-repeat="game in $ctrl.lastFiveGames">
	                <td>{{game.time | date: "MM-dd-yyyy hh:mm a"}}</td>
	                <td>{{game.sport}}</td>
	                <td><a ui-sref="teamPage({ teamId: game.team_id })">{{game.team_name}}</a></td>
	                <td>{{game.team1_score}}-{{game.team2_score}}</td>
	                <td><a ui-sref="liveGamePage({ gameId: game.game_id })" class="orange btn">View Game</a></td>
	            </tr>
	        </table>
	    </div>

	    <div class="collection col l12 row">
	        <div class="collection-header col l12"><b id="players-header">Players</b></div>
	        <div ng-if="$ctrl.players.length == 0">No players yet</div>
	        <div ng-if="$ctrl.players.length !=0" class="col l2 s12 m6" ng-repeat="player in $ctrl.players">
	            <div class=" card">
	                <div class="card-image center">
	                    <img class="pointer" ui-sref="userPage({ userId: player.user_id })" ng-src="{{ player.profile_pic }}" alt="profile pic" style="height: 23vh">
	                </div>
	                <div class="card-content" id="player-card">
	                    <a ui-sref="userPage({ userId: player.user_id })" class="center-align">{{player.name}}</a>
	                </div>
	            </div>
	        </div>

	    </div>
	</div>


	<div id="edit-modal" class="modal">
	    <div class="center modal-content">
	      <h4>Edit Team</h4>
	        <div class="row">
	            <div class="input-field col l8 offset-l2">
	                <i class="material-icons prefix">mode_edit</i>
	                <input ng-model="$ctrl.sampleName" id="team-name-new" type="text">
	                <label class="active" for="team-name-new">Team name</label>


	                <div class="file-field input-field">
                        <div class="btn red">
                            <span>File</span>
                            <input type="file" file-input="$ctrl.files">
                        </div>
                        <div class="file-path-wrapper">
                            <input class="file-path validate" type="text">
                        </div>
                    </div>

	            </div>
	        </div>

	          
	    </div>
	    <div class="center">
	      <a ng-click="$ctrl.editTeam()" class="center add-margin-bottom modal-action modal-close waves-effect waves-green white-text green btn">Save</a>
	      <a class="center add-margin-bottom modal-action modal-close waves-effect waves-red btn-flat">Cancel</a>
	    </div>
	</div>

</div>

<script type="text/javascript">
	$(document).ready(function() {
	    $('select').material_select();
	});
</script>
